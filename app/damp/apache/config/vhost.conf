# 0. 默认虚拟主机（未匹配的域名返回 404）
<VirtualHost *:80>
    ServerName default
    DocumentRoot /var/www/html

    <Directory "/var/www/html">
        Options -Indexes
        AllowOverride None
        Require all denied
    </Directory>

    <Location />
        Require all denied
    </Location>

    ErrorDocument 404 "Not Found"
    ErrorLog  /usr/local/apache2/logs/default-error.log
    CustomLog /usr/local/apache2/logs/default-access.log combined
</VirtualHost>

# <VirtualHost *:80>
#     ServerName bbs.xxx
#     DocumentRoot /var/www/html/bbs.xxx

#     <Directory "/var/www/html/bbs.xxx">
#         Options Indexes FollowSymLinks
#         AllowOverride All
#         Require all granted
#         DirectoryIndex index.php
#     </Directory>

#     ProxyPassMatch "^/(.*\.php)$" "fcgi://php74:9000/var/www/html/bbs.xxx/$1"
#     ErrorLog  /usr/local/apache2/logs/php74-error.log
#     CustomLog /usr/local/apache2/logs/php74-access.log combined
# </VirtualHost>

<VirtualHost *:80>
    ServerName test.xxx
    DocumentRoot /var/www/html/test.xxx

    <Directory "/var/www/html/test.xxx">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
        DirectoryIndex index.php
    </Directory>

    ProxyPassMatch "^/(.*\.php)$" "fcgi://php56:9000/var/www/html/test.xxx/$1"
    ErrorLog  /usr/local/apache2/logs/php56-error.log
    CustomLog /usr/local/apache2/logs/php56-access.log combined
</VirtualHost>

<VirtualHost *:80>
    ServerName testadmin.xxx
    DocumentRoot /var/www/html/testadmin.xxx

    <Directory "/var/www/html/testadmin.xxx">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
        DirectoryIndex index.php
    </Directory>

    ProxyPassMatch "^/(.*\.php)$" "fcgi://php56:9000/var/www/html/testadmin.xxx/$1"
    ErrorLog  /usr/local/apache2/logs/php56-error.log
    CustomLog /usr/local/apache2/logs/php56-access.log combined
</VirtualHost>

